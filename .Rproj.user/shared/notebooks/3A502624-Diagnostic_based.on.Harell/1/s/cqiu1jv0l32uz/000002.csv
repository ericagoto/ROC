"0","#change values InstabSum, AguaTotal, VegTogal"
"0","eq_angle = function (df){"
"0","                "
"0","                "
"0","                ## ANGLE "
"0","             angle <-  ifelse (df$angle  == ""A"", 0.6336, ifelse (df$angle  == ""B"", 0.999, "
"0","                ifelse (df$angle  == ""C"",  1.798, "
"0","                ifelse (df$angle  == ""D"", 3.015, "
"0","                ifelse (df$angle  == ""E"", 5.685, "
"0","                ifelse (df$angle   ==""F"", 5.848, 0))))))"
"0","             "
"0","             TC <- ifelse(df$TC == TRUE, 5.848, angle)"
"0","             "
"0","             return(TC)"
"0","        "
"0","}"
"0","angle <- eq_angle(train.data)"
"0","builidng_material = function (df){"
"0","        "
"0","        ### Building material"
"0","        ifelse (df$building == ""B"", 0.775, "
"0","                ifelse (df$building == ""W"", 3.152, "
"0","                        ifelse (df$building == ""M"", 3.595,0)))"
"0","        "
"0","}"
"0","        "
"0"," building_material <- builidng_material(train.data)       "
"0","        "
"0","        "
"0","        "
"0"," building_postion <- function (df){  "
"0","        ### Building postion"
"0","        ifelse (df$building_position == ""near_base_slope"", 2.145,   "
"0","        ifelse (df$building_position == ""near_top_slope"",  1.504,  "
"0","        ifelse (df$building_position == ""far_base_slope"",  0.349, "
"0","        ifelse (df$building_position == ""far_top_slope"", 0.286, "
"0","        ifelse (df$building_position == ""middle_slope"", 2.063))))) "
"0","        "
"0"," }"
"0","                 #### density"
"0"," "
"0"," "
"0","  density <- function (df)"
"0"," {"
"0","        ifelse (df$density == ""d1"", 0.952,  "
"0","        ifelse (df$density == ""d2"", 2.550, "
"0","        ifelse (df$density == ""d3"", 2.961, "
"0","        ifelse (df$density == ""d4"", 2.271, 0))))"
"0","        "
"0"," }"
"0","    "
"0"," density <- density (train.data)"
"0"," "
"0","        ### soil (Y = soil favorable to unstable slope, NO = not observed, N = soil fav to slope stability)"
"0"," "
"0"," soil <- function (df)"
"0"," {"
"0","         "
"0","        ifelse (soil == ""Y"", 4.720,  "
"0","        ifelse (soil == ""NO"",  2.360, "
"0","        ifelse (soil == ""N"", 0, 0)))       "
"0"," }"
"0","        #### geology (Y = geol favorable to unstable slope, NO = not observed, N = geol fav to slope stability)"
"0"," "
"0","# soil <- soil(validation)"
"0"," "
"0"," geology <- function (df) {"
"0","      geology <-    ifelse (df$TC_geol_desfav == TRUE, 4.651, 0) "
"0","return(geology)"
"0"," }"
"0"," "
"0","geology <- geology(train.data)"
"0","        ### naturage coverage"
"0"," "
"0"," "
"0","nat_coverage <- function (df){"
"0"," "
"0","        ifelse (df$nat_coverage == ""Y"",  1.881,  "
"0","        ifelse (df$nat_coverage == ""NO"", 0.941, "
"0","        ifelse (df$nat_coverage == ""N"",0, 0)))   "
"0","        "
"0"," }"
"0","        "
"0"," "
"0"," # nat_coverage <-  nat_coverage(df)"
"0"," "
"0"," ## vegetation (ADD These)"
"0","  "
"0"," vegetation <- function (df){"
"0","        "
"0","      df$tree <-  ifelse (df$tree == 1, 0.370, 0)  "
"0","        df$ground_veg <- ifelse (df$ground_veg == 1, 1.137, 0)  "
"0","       df$deforestation <-  ifelse (df$deforestation == 1, 0.405, 0)  "
"0","       df$banana <-  ifelse (df$banana == 1, 1.253, 0)  "
"0","        vegetation <- df$tree + df$ground_veg + df$banana +  df$deforestation"
"0","        return(vegetation)"
"0","}"
"0","        "
"0","  vegetation <-   vegetation(train.data)   "
"0","     "
"0","     "
"0","water <- function (df){        "
"0","        "
"0","        "
"0","        "
"0","        #### water (ADD These)"
"0","     df$wastewater <-    ifelse ( df$wastewater  == 1, 0.961, 0)  "
"0","       df$conc_rainfall_water <- ifelse (df$conc_rainfall_water == 1, 0.977, 0)  "
"0","        df$leak <- ifelse (df$leak == 1, 1.949, 0)  "
"0","       df$septic_tank <-  ifelse (df$septic_tank == 1, 0.839, 0)  "
"0","       df$drainage <-  ifelse (df$drainage == ""N"", 0.624, "
"0","                         ifelse (df$drainage  == ""P"", 0.535, "
"0","                        ifelse (df$drainage == ""Y"", 0.099, 0)))  "
"0","        "
"0","        water <-  df$wastewater +  df$conc_rainfall_water +   df$leak + df$septic_tank + df$drainage"
"0","        return(water)"
"0","}"
"0","        "
"0","water <- water(train.data)"
"0","instability <- function(df) {"
"0","        #### instability (ADD these)"
"0","     leaning_wall <-    ifelse (df$leaning_wall == 1, 9.533, 0)  "
"0","      tilted <-  ifelse (df$tilted == 1, 9.533, 0)  "
"0","       downward<-  ifelse (df$downward_floor == 1, 16.877, 0)  "
"0","       scars <-  ifelse ( df$scars == 1, 12.640, 0) "
"0","        crack <-  ifelse (df$crack == 1, 11.016, 0) "
"0","        "
"0","        Instab1  <- tilted + leaning_wall"
"0","        Instab2 <- downward + crack"
"0","       "
"0","# Considering collinearity"
"0","Instab1 <-ifelse (Instab1 >= 9.533, 9.533, Instab1)"
"0"," "
"0","Instab2 <-ifelse (Instab2 > 11.016, 13.95, Instab2)"
"0","        "
"0","        "
"0","        instability  <- (Instab1 + Instab2 + scars)*(59.6/39.05)"
"0","         "
"0","}"
"0","instability <- instability(train.data)  "
"0","        "
"0","   ##### garbage"
"0","garbage <- function (df) {"
"0","     "
"0","        df$lixo <- ifelse (df$garbage  == 1, 3.878, 0) "
"0","        df$landfill   <- ifelse (df$landfill == 1, 3.878, 0)  "
"0","        df$construction_deposit <- ifelse (df$construction_deposit == 1, 3.878, 0)  "
"0","        "
"0","        garbage <-  df$garbage  +  df$landfill  + df$construction_deposit"
"0","        "
"0","       garbage <-  ifelse(garbage >= 3.878, 3.878, 0)"
"0","        "
"0","        return (garbage)"
"0","        "
"0","}        "
"0","garbage <- garbage(train.data)"
"0","        "
"0","# "
"0","      "
"0","Risk_Value_Training <- angle +  building_material  + vegetation + density + water + instability+ garbage + geology + 2.063+2.145+1.504 "
"0","Risk_Training <- train.data %>%"
"0","  select(setor, risk)"
"0","Risk_Training <- cbind(Risk_Training, Risk_Value_Training)"
"0","colnames(Risk_Training) <- c(""Sector"", ""RiskMapped"", ""RiskAHP"")"
